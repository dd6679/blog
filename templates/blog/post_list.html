{% extends 'base.html' %}
{% block content %}

{% if post_list %}
<ul style="width:1000px; margin:0 auto;">
    {% for post in post_list %}
    <li class="list-group-item"><a href="{% url 'blog:detail' post.id %}"><h4>{{ post.title }}</h4>
        <br>{{post.date}}
    </a></li>
    {% endfor %}
</ul>
{% else %}
<p>게시글이 없습니다.</p>
{% endif %}

<!-- 지금까지 만든 페이징 기능에 '처음'과 '마지막' 링크를 추가하고 '…' 생략 기호까지 추가하면 더 완성도 높은 페이징 기능이 될 것이다. -->
<!-- 페이징처리 시작 -->
<ul class="pagination justify-content-center">
    <!-- 이전페이지 -->
    {% if post_list.has_previous %}
    <li class="page-item">
        <a class="page-link text-danger" href="?page={{ post_list.previous_page_number }}">&laquo;</a>
    </li>
    {% else %}
    <li class="page-item disabled">
        <a class="page-link" tabindex="-1" aria-disabled="true" href="#">&laquo;</a>
    </li>
    {% endif %}
    <!-- 페이지리스트 -->
    {% for page_number in post_list.paginator.page_range %}
    {% if page_number >= post_list.number|add:-5 and page_number <= post_list.number|add:5 %}
    {% if page_number == post_list.number %}
    <li class="page-item active" aria-current="page">
        <a class="page-link bg-danger border-danger" href="?page={{ page_number }}">{{ page_number }}</a>
    </li>
    {% else %}
    <li class="page-item">
        <a class="page-link text-danger" href="?page={{ page_number }}">{{ page_number }}</a>
    </li>
    {% endif %}
    {% endif %}
    {% endfor %}
    <!-- 다음페이지 -->
    {% if post_list.has_next %}
    <li class="page-item">
        <a class="page-link text-danger" href="?page={{ post_list.next_page_number }}">&raquo;</a>
    </li>
    {% else %}
    <li class="page-item disabled">
        <a class="page-link" tabindex="-1" aria-disabled="true" href="#">&raquo;</a>
    </li>
    {% endif %}
</ul>
<!-- 페이징처리 끝 -->


{% endblock %}